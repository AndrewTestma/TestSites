# 1. 数据库设计
----

> 数据库采用Mysql

<!-- TOC -->

- [1. 数据库设计](#1-数据库设计)
    - [1.1. 产品模块](#11-产品模块)
        - [1.1.1. tsproduct](#111-tsproduct)
        - [1.1.2. tsmodule](#112-tsmodule)
    - [1.2. UI测试模块](#12-ui测试模块)
        - [1.2.1. tsuitestcase](#121-tsuitestcase)
        - [1.2.2. tsautosteps](#122-tsautosteps)
        - [1.2.3. tsverification](#123-tsverification)
        - [1.2.4. tssearch](#124-tssearch)
        - [1.2.5. tsexecution](#125-tsexecution)
    - [1.3. 场景管理模块](#13-场景管理模块)
        - [1.3.1. tsoperatingenv](#131-tsoperatingenv)

<!-- /TOC -->

## 1.1. 产品模块

### 1.1.1. tsproduct

> 存储产品信息及数据库连接方式

```
tsproductid INTEGER(11) AUTO_INCREMENT,
tsname VARCHAR(30) NOT NULL,
tsurl varchar(40) NOT NULL,
tsdburl varchar(40) not null,
tsdbname varchar(30) not null,
tspassword varchar(30) not null,
PRIMARY KEY (tsproductid)
```
### 1.1.2. tsmodule

> 存储产品模块信息

```
tsmoduleid integer(11) auto_increment,
tsproductid integer(11) not null,
tsame varchar(30) not null
```
## 1.2. UI测试模块

### 1.2.1. tsuitestcase

> 存储UI测试用例信息

```
tsuitestcaseid integer(11) auto_increment,
tsnum varchar(30) not null,
tsproductid integer(11) not null,
tsmodulename varchar(30) not null,
tsautostepsname varchar(30) not null,
tsfrontcase varchar(100) default null,
tsexpected varchar(30) not null,
tsverificationid integer(11) not null,
tsverificationcontent varchar(30)not null,
tsdebug TINYINT(0),
tsgrade integer(5) default 5,
tscreatetime timestamp default current_timestamp,
tsregress tinyint(0),
tssmoke tinyint(0),
tscreator varchar(10) not null
```
* tsautostepsname：测试用例包含的操作步骤
* tsfrontcase：前置测试用例
* tsexpected：预期结果
* tsverificationid：验证方法方法
* tsverificationcontent：验证内容
* tsdebug：标识是否成功（修改后重置为false）
* tsgrade:用例等级
* tsregress：标识是否属于回归测试
* tssmoke：标识是否属于冒烟测试

### 1.2.2. tsautosteps
> 存储操作步骤
```
tsautostepsid integer(11) auto_increment,
tsname varchar(30) not null,
tssearchid integer(11) not null,
tssearchcontent varchar(30) not null,
tsexecutionid integer(11) not null,
tsexecutioncontent varchar(100) default null,
tsiframe varchar(10) default null,
tswaittime int default null,
tsmodulename varchar(30) not null,
tspublic tinyint(0),
tsremarks varchar(20) default null,
tscreatetime timestamp default current_timestamp,
tscreator varchar(10) not null
```
* tssearchid：查找元素方法ID
* tssearchcontent：查找元素内容
* tsexecutionid：执行方式ID（点击，输入等）
* tsexecutioncontent：执行内容
* tsiframe：元素iframe
* tswaittime：等待时间
* tsmodulename：模块名称
* tspublic：是否公用
* tsremarks：备注

### 1.2.3. tsverification
> 验证方式
```
tsverificationid integer(3) auto_increment,
tsvalue varchar(5) not null,
```
### 1.2.4. tssearch
>查找方式
```
tssearchid integer(3) auto_increment,
tsvalue varchar(5) not null,
```
### 1.2.5. tsexecution
> 执行方式
```
tsexecutionid integer(3) auto_increment,
tsvalue varchar(5) not null
```
## 1.3. 场景管理模块
### 1.3.1. tsoperatingenv

> 存储运行环境信息

```
tsid integer(11) auto_increment,
tsname varchar(10) not null,
tsurl varchar(20) not null,
tsdriver varchar(10) not null,
tsdirverpath varchar(30) not null
```
---
## 用户模块
### tsuser
```
tsuserid integer(3) auto_increment,
tsloginname  varchar(100) not null,
tsusername  varchar(100) not null,
tspassword varchar(100) not null,
tsemail varchar(100) not null,
tsidentity integer(3) not null,
tspermissionname varchar(100) default null
```
* tsloginname:登录名
* tsusername：用户名
* tspassword:密码
* tsemail:电子邮件
* tsidentity:身份标识
* tspermissionname：权限模板

### tspermissions
 ```
tspermissionsid integer(3) auto_increment,
tsname varchar(100) not null,
tsproduct tinyint(0),
tstestcase tinyint(0),
tsscenes tinyint(0),
tsreserved1 tinyint(0),
tsreserved2 tinyint(0),
tsreserved3 tinyint(0)
 ```
 * tsname:权限名称
 * tsproduct:产品权限
 * tstestcase:用例权限
 * tsscenes:场景权限
 * tsreserved1:预留字段